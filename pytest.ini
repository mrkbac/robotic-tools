[pytest]
# Test discovery
python_files = test_*.py
python_classes = Test*
python_functions = test_*

# Pytest options
addopts =
    --strict-markers
    --tb=short
    --import-mode=importlib
    --cov=small_mcap
    --cov=pymcap_cli
    --cov=mcap_ros2_support_fast
    --cov=ros_parser
    --cov-report=term-missing
    --cov-report=html
    --cov-report=xml
    --cov-fail-under=35

# Test markers
markers =
    slow: tests that take longer to run (deselect with '-m "not slow"')
    conformance: tests using official MCAP conformance test files
    compat: tests that validate against official mcap library
    e2e: end-to-end tests that process full files
    benchmark: performance benchmark tests using pytest-benchmark
